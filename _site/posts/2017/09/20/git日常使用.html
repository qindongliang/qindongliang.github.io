<!DOCTYPE html>
<html context="">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta http-equiv="content-language" content="zh-CN" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<meta name="keywords" content="Qin Dong Liang,小技巧"/>
		<meta name="author" content="Qin Dong Liang" />
		<meta name="description" content="Git日常使用"/>
		<link rel="stylesheet" href="/static/css/common.css">
		<link rel="stylesheet" href="/static/css/syntax.css">
		<link rel="stylesheet" href="/static/css/mypost.css">
		<script type="text/javascript" src="/static/js/common.js"></script>
		<link rel="icon" href="/static/img/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon"/>
		<title>Git日常使用-秦东亮的个人驿站</title>
	</head>
<body>
	<header id="header">
    <a class="logo" href="/" title="Blog"></a>
    <div class="title"><a href="/" class="nav-a">秦东亮的个人驿站</a></div>
    <nav class="nav" id="nav">
        <ul>
            <li><a href="/" class="nav-a">Blog</a><span>·</span></li>
            <li><a href="/pages/categories.html" class="nav-a">Categories</a><span>·</span></li>
            <li><a href="/pages/search.html" class="nav-a">Search</a><span>·</span></li>
            <li><a href="/pages/links.html" class="nav-a">Links</a><span>·</span></li>
            <li><a href="/pages/chat.html" class="nav-a">Chat</a><span>·</span></li>
            <li><a href="/pages/about.html" class="nav-a">About</a></li>
        </ul>
    </nav>
	<span class="menu-tool" id="menu-tool"><em></em><em></em><em></em><em></em></span>
</header>
    <div id="mypost">
		
		<h1 class="postinfo">Git日常使用</h1>
		
		<div class="main"><h2 id="常用命令">常用命令</h2>

<p><img src="001.png" alt="001" /></p>

<ul>
  <li>
    <p>设置账号和邮箱</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git config --global user.name "xxx"
  git config --global user.email "xx@xx.com"
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">git init</code></p>

    <p>在当前目录创建一个版本库</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git add &lt;path&gt;</code></p>

    <p>主要用于把我们要提交的文件的信息添加到暂存区（stage）中，当我们使用<code class="highlighter-rouge">git commit</code>时，git将依暂存区中的内容来进行文件的提交</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git commit</code></p>

    <p>把修改（暂存区）提交到版本库中。一般使用 <code class="highlighter-rouge">git commit -m "message"</code>。如果你的文件之前已经提交过，但这次的改动还没有进stage，可以使用<code class="highlighter-rouge">git commit -am "message"</code>和先add再commit的效果一样</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git log</code></p>

    <p>查看HEAD指向的分支的log，<code class="highlighter-rouge">--pretty=oneline</code>简略查看</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git reflog</code></p>

    <p>可以查看所有分支的所有操作记录</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git reset</code></p>

    <p>在本地仓库中回退到某个commit</p>

    <ol>
      <li>
        <p><code class="highlighter-rouge">git reset –mixed</code></p>

        <p>此为默认方式，不带任何参数的<code class="highlighter-rouge">git reset</code>，即时这种方式，它回退到某个版本，只保留源码，回退commit和index信息</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">git reset –soft</code></p>

        <p>回退到某个版本，只回退了commit的信息，不会恢复到index file一级。如果还要提交，直接commit即可</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">git reset –hard</code></p>

        <p>彻底回退到某个版本，本地的源码也会变为上一个版本的内容</p>
      </li>
    </ol>
  </li>
  <li>
    <p><code class="highlighter-rouge">git checkout</code></p>

    <p>把文件在工作区的修改全部撤销，这里有两种情况：</p>

    <p>一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</p>

    <p>一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</p>
  </li>
  <li>
    <p>git rm</p>

    <p>从版本库删除文件</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git clone &lt;url&gt;</code></p>

    <p>从远程仓库克隆一个项目</p>

    <p>一次 Git 克隆会建立你自己的本地分支 master 和远程分支 origin/master，并且将它们都指向 origin 上的 master 分支。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git remote add origin &lt;url&gt;</code></p>

    <p>把本地项目与远程项目关联</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git push origin master</code></p>

    <p>把本地master分支推动到远端的origin（相当于本地的HEAD）</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git pull</code></p>

    <p>从远端抓取并试图合并</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git branch &lt;name&gt;</code></p>

    <p>创建一个分支</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git checkout &lt;name&gt;</code></p>

    <p>切换到某个分支，<code class="highlighter-rouge">git checkout -b &lt;name&gt;</code> 创建同时切换到分支</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git branch</code></p>

    <p>列出所有分支，当前分支前面会标一个*号</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git merge &lt;name&gt;</code></p>

    <p>把某个分支合并到当前分支,默认是快速合并,有时候要解决冲突</p>

    <p>Git 默认使用快进式合并（fast-farward merge），只是将 master 分支指针指向 bugfix-0.1分支，而使用<code class="highlighter-rouge">git merge --no-ff name</code>了则会创建一条合并日志，保证分支删除时不丢失历史日志</p>

    <p>对应的tortoisegit合并分支选项是非Fast Forword</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git branch -d branchName</code></p>

    <p>删除分支，有时候完成合并后，不需要了就可以删除了因为创建、合并和删除分支非常快，所以Git鼓励你使用分支完成某个任务，合并后再删掉分支，这和直接在master分支上工作效果是一样的，但过程更安全。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git tag tagName</code></p>

    <p>创建标签，默认标签是打在最新提交的commit上的</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git tag -d tagName</code></p>

    <p>删除标签</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">git push origin v1.0</code></p>

    <p>推送标签</p>
  </li>
</ul>

<h2 id="分支管理策略">分支管理策略</h2>

<ul>
  <li>
    <p>主分支Master</p>

    <p>首先，代码库应该有一个、且仅有一个主分支。所有提供给用户使用的正式版本，都在这个主分支上发布。</p>

    <p>Git主分支的名字，默认叫做Master。它是自动建立的，版本库初始化以后，默认就是在主分支在进行开发。</p>

    <p><img src="002.png" alt="002" /></p>
  </li>
  <li>
    <p>开发分支Develop</p>

    <p>主分支只用来分布重大版本，日常开发应该在另一条分支上完成。我们把开发用的分支，叫做Develop。</p>

    <p>如果想正式对外发布，就在Master分支上，对Develop分支进行”合并”（merge）</p>

    <p><img src="003.png" alt="003" /></p>
  </li>
  <li>
    <p>临时性分支</p>

    <p>用于日常开发</p>

    <ul>
      <li>
        <p>功能（feature）分支</p>

        <p><img src="004.png" alt="004" /></p>
      </li>
      <li>
        <p>预发布（release）分支</p>
      </li>
      <li>
        <p>修补bug（fixbug）分支</p>

        <p><img src="005.png" alt="005" /></p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="github">GitHub</h2>

<h3 id="配置ss登陆">配置ss登陆</h3>

<p><a href="http://blog.tmaize.net/posts/2017/07/22/github%E9%85%8D%E7%BD%AEssh%E7%99%BB%E9%99%86.html">配置ss登陆</a></p>

<h3 id="多人协作">多人协作</h3>

<p>有三种方法</p>

<ol>
  <li>
    <p>把别人的公钥加到你项目的公钥</p>
  </li>
  <li>
    <p>建一个组织，这样组织中的所有人都有提交权限</p>
  </li>
  <li>
    <p>别人fork你的项目，然后给你发 pull request</p>
  </li>
</ol>

<h2 id="参考">参考</h2>

<p><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰Git教程</a></p>

<p><a href="http://www.ruanyifeng.com/blog/2012/07/git.html">阮一峰Git分支管理策略</a></p>
</div>
	</div>
	<a href="#" id="totop">Top</a>
<footer>Copyright ©2018 京ICP备16016174号 <a href="/sitemap.xml">网站地图</a> Powered by <a href="https://github.com/TMaize/tmaize-blog">tmaize-blog</a></footer>
<script>
//mta.qq.com 访问统计
var _mtac = {};
(function() {
	var mta = document.createElement("script");
	mta.src = "http://pingjs.qq.com/h5/stats.js?v2.0.2";
	mta.setAttribute("name", "MTAH5");
	mta.setAttribute("sid", "500581966");
	var s = document.getElementsByTagName("script")[0];
	s.parentNode.insertBefore(mta, s);
})();
//百度的自动推送
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
//360的自动推送
(function(){
var src = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?0b7f3f19682121293c3e4b62c9740281":"https://jspassport.ssl.qhimg.com/11.0.1.js?0b7f3f19682121293c3e4b62c9740281";
document.write('<script src="' + src + '" id="sozz"><\/script>');
})();
</script>
</body>
</html>